<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Consumindo API</title>
  <link rel="stylesheet" href="candidatos.css">
</head>
<body>
<header>
    <div class="bannerTopo">
      <img src="formulario-de-inscricao/curso/imagens/logoGoverno.png" alt="Logo do Governo" class="logoTopo">
      <div class="textosTopo">
        <h1>Governo do Estado do Paran√°</h1>
        <p class="subtitulo">Portal Educacional</p>
      </div>
      <div class="barra-pesquisa">
        <input type="text" placeholder="Pesquisar...">
        <button type="submit">üîç</button>
      </div>
    </div>
  </header>
  <div class="principal">
  <ul id="listaUsuarios"></ul>
  </div>
<div id="modal" class="modal">
  <div class="modal-conteudo">
    <span id="fechar">&times;</span>
    <h2>Editar Usu√°rio</h2>

    <form id="formUsuario">
      <!-- Dados principais -->
      <div class="form-grupo">
        <label>N√∫mero da Inscri√ß√£o:</label>
        <input type="text" id="inputInscricao">
      </div>

      <div class="form-grupo">
        <label> CGM:</label>
        <input type="text" id="inputNome">
      </div>

      <div class="form-grupo">
        <label>Curso:</label>
        <input type="text" id="inputCurso">
      </div>

      <div class="form-grupo">
        <label>Turno:</label>
        <input type="text" id="inputTurno">
      </div>

      <!-- Benefici√°rio -->
      <h3>Benefici√°rio de Programas Federais</h3>
      <div class="form-radio">
        <label><input type="radio" name="beneficiario" value="nao"> N√£o (00)</label>
        <label><input type="radio" name="beneficiario" value="sim"> Sim</label>
        <input type="text" id="inputNIS" placeholder="N√∫mero NIS">
      </div>

      <!-- Origem Escolar -->
      <h3>Origem Escolar</h3>
      <div class="form-radio">
        <label><input type="radio" name="origem" value="85"> Rede P√∫blica / Bolsista integral (85)</label>
        <label><input type="radio" name="origem" value="80"> Parcial P√∫blica (at√© 1 ano Particular) (80)</label>
        <label><input type="radio" name="origem" value="75"> Parcial P√∫blica (2-3 anos Particular) (75)</label>
        <label><input type="radio" name="origem" value="70"> Integral Particular (70)</label>
      </div>

      <!-- M√©dias -->
      <h3>M√©dias</h3>
      <div class="form-grupo">
        <label>M√©dia 9¬∫ ano:</label>
        <input type="number" id="inputMedia9" min="0" max="100">
      </div>

      <!-- Disciplinas -->
      <h3>Disciplinas</h3>
      <div class="form-duas-colunas">
        <div>
          <label>L√≠ngua Portuguesa:</label>
          <input type="number" id="inputPortugues" min="0" max="100">
        </div>
        <div>
          <label>Matem√°tica:</label>
          <input type="number" id="inputMatematica" min="0" max="100">
        </div>
      </div>

      <div class="form-grupo">
        <label>M√©dia Aritm√©tica (0-100):</label>
        <input type="number" id="inputMediaDisciplinas" min="0" max="100">
      </div>

      <!-- Outros -->
      <h3>Avalia√ß√µes</h3>
      <div class="form-duas-colunas">
        <div>
          <label>Pontua√ß√£o Benefici√°rio + Origem:</label>
          <input type="number" id="inputPontuacaoBE" min="0" max="100">
        </div>
        <div>
          <label>Entrevista (0-100):</label>
          <input type="number" id="inputEntrevista" min="0" max="100">
        </div>
      </div>

      <div class="form-grupo">
        <label>Total Geral da Pontua√ß√£o:</label>
        <input type="number" id="inputTotal" min="0" max="100">
      </div>

      <!-- Bot√£o -->
      <button type="submit">Salvar</button>
    </form>
  </div>
</div>
        <footer>
            <div class="footer">
                <div class="footer-logo">
                    <img src="formulario-de-inscricao/curso/imagens/logoGoverno.png" alt="Logo do Governo">
                    <h2>Governo do Estado do Paran√°</h2>
                </div>
                <div class="codigos">
                    <h3>Links √∫teis</h3>
                    <ul>
                        <li><a href="#">Sobre</a></li>
                        <li><a href="#">Pol√≠tica de Privacidade</a></li>
                        <li><a href="#">Termos de Uso</a></li>
                        <li><a href="#">Suporte</a></li>
                    </ul>
                </div>
                <div class="contatos">
                    <h3>Contato</h3>
                    <p>Email: rafaelpilonetto59@gmail.com</p>
                    <p>Email: christianmartinkoski@gmail.com</p>
                    <p>Telefone: (46)999890251</p>
                    <p>Telefone: (46)99414639</p>
                </div>
            </div>
            <div class="copyright">
                <p>¬© 2025 Governo do Estado do Paran√° ‚Ä¢ Todos os direitos reservados</p>
            </div>
        </footer>
  <script>
    // Chama a API
    
    fetch("http://localhost:3000/candidatos")
      .then(response => response.json())
      .then(dados => {
        const lista = document.getElementById("listaUsuarios");
        const btnSalvar = document.querySelector("#formUsuario button[type='submit']");
        
        // Percorre os dados e cria <li> para cada usu√°rio
        dados.forEach(usuario => {
          const item = document.createElement("li");
          item.classList.add("candidato");
item.innerHTML = `
          <div class="informacoes">
            <div class="info linha-nome" id="nome-${usuario.id}">Nome: ${usuario.nome}</div>
            <div class="info linha-celular" id="celular-${usuario.id}">Celular: ${usuario.celular_a}</div>
            <div class="info linha-cidade" id="cidade-${usuario.id}">Cidade: ${usuario.cidade}</div>
            <div class="info linha-curso" id="curso-${usuario.id}">Curso: ${usuario.curso}</div>
            <div class="info linha-nasc" id="nasc-${usuario.id}">Nascimento: ${usuario.data_nasc}</div>
          </div
`;

        // dentro do forEach
        item.addEventListener("click", () => {
          document.getElementById("modal").style.display = "flex";

          // Preenche os inputs com dados do usu√°rio
          document.getElementById("inputInscricao").value = usuario.id
          document.getElementById("inputNome").value = usuario.cpf;
          document.getElementById("inputCelular").value = usuario.celular_a;
          document.getElementById("inputCurso").value = usuario.curso;
        });

        // bot√£o de fechar modal
        document.getElementById("fechar").addEventListener("click", () => {
          document.getElementById("modal").style.display = "none";
        });
          lista.appendChild(item);
        });
      })
      
      .catch(error => console.error("Erro ao buscar API:", error));

      fetch()
  </script>
</body>
</html>